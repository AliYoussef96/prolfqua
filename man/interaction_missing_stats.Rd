% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tidyMS_R6_AnalysisConfiguration.R
\name{interaction_missing_stats}
\alias{interaction_missing_stats}
\title{compute missingness statistics per hierarchy and factor level}
\usage{
interaction_missing_stats(
  pdata,
  config,
  factors = config$table$fkeysDepth(),
  hierarchy = config$table$hierarchyKeys(),
  workIntensity = config$table$getWorkIntensity()
)
}
\arguments{
\item{pdata}{data.frame}

\item{config}{AnalysisConfiguration}

\item{factors}{factor to include (default up to factor depth)}

\item{hierarchy}{hierarchy to include (default up to hierarchy depth)}

\item{workIntensity}{work intensity column}
}
\description{
compute missingness statistics per hierarchy and factor level
}
\examples{
library(tidyverse)
library(LFQService)

skylineconfig <- LFQServiceData::skylineconfig$clone(deep=TRUE)
skylineconfig$parameter$qVal_individual_threshold <- 0.01
xx <- LFQService::removeLarge_Q_Values(LFQServiceData::sample_analysis,
   skylineconfig)
xx <- complete_cases(xx, skylineconfig)
nrow(xx)
x <- interaction_missing_stats(xx, skylineconfig)$data \%>\% arrange(desc(nrNAs))
stopifnot(nrow(x) == 7416)
stopifnot(sum(is.na(x$meanArea)) == 249)
stopifnot(length(unique(x$protein_Id)) == 37)

tmp <- interaction_missing_stats(xx, skylineconfig,
 factors= character(),
  hierarchy = skylineconfig$table$hierarchyKeys()[1])$data
stopifnot(nrow(tmp) == 37)

tmp <- interaction_missing_stats(xx, skylineconfig,
  hierarchy = skylineconfig$table$hierarchyKeys()[1])$data
stopifnot(sum(is.na(tmp$nrMeasured))==0)

}
\keyword{internal}
