% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tidyMS_missigness.R
\name{interaction_missing_stats}
\alias{interaction_missing_stats}
\title{compute missingness statistics per hierarchy and factor level}
\usage{
interaction_missing_stats(
  pdata,
  config,
  factors = config$table$fkeysDepth(),
  hierarchy = config$table$hierarchyKeys(),
  workIntensity = config$table$getWorkIntensity()
)
}
\arguments{
\item{pdata}{data.frame}

\item{config}{AnalysisConfiguration}

\item{factors}{factor to include (default up to factor depth)}

\item{hierarchy}{hierarchy to include (default up to hierarchy depth)}

\item{workIntensity}{work intensity column}
}
\description{
compute missingness statistics per hierarchy and factor level
}
\examples{
library(tidyverse)
library(LFQService)
rm(list=ls())
bb <- LFQService::ionstar$filtered()

configur <- bb$config$clone(deep=TRUE)
data <- bb$data

configur$parameter$qVal_individual_threshold <- 0.01
xx <- LFQService::removeLarge_Q_Values(data,
   configur)
xx <- complete_cases(xx, configur)
x <- interaction_missing_stats(xx, configur)$data \%>\% arrange(desc(nrNAs))
print(nrow(x))
stopifnot(nrow(x) == 5540)
stopifnot(sum(is.na(x$meanArea)) == 206)
stopifnot(length(unique(x$protein_Id)) == 162)

tmp <- interaction_missing_stats(xx, configur,
 factors= character(),
  hierarchy = configur$table$hierarchyKeys()[1])$data
stopifnot(nrow(tmp) == 162)

tmp <- interaction_missing_stats(xx, configur,
  hierarchy = configur$table$hierarchyKeys()[1])$data
stopifnot(sum(is.na(tmp$nrMeasured))==0)

}
\keyword{internal}
