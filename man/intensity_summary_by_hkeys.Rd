% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tidyMS_R6_AnalysisConfiguration.R
\name{intensity_summary_by_hkeys}
\alias{intensity_summary_by_hkeys}
\title{Summarizes the intensities within hierarchy}
\usage{
intensity_summary_by_hkeys(data, config, func)
}
\arguments{
\item{func}{- a function working on a matrix of intensities for each protein.}
}
\value{
retuns function object
}
\description{
Summarizes the intensities within hierarchy
}
\examples{

library(LFQService)
library(tidyverse)
config <- LFQService::skylineconfig$clone(deep = TRUE)
data <- LFQService::sample_analysis
x <- intensity_summary_by_hkeys(data, config, func = medpolishPly)

res <- x("unnest")
x("unnest")$data \%>\% dplyr::select(config$table$hierarchyKeys()[1] , "medpolish") \%>\% tidyr::unnest()
config <- LFQService::skylineconfig$clone(deep = TRUE)
config$table$hierarchyDepth <- 1
x <- intensity_summary_by_hkeys(data, config, func = medpolishPly)

x("unnest")$data
xnested<-x()
dd <- x("plot")
dd$medpolishPly[[1]]
dd$plot[[2]]
# example how to add peptide count information

tmp <- summarize_hierarchy(data, config)
tmp <- inner_join(tmp, x("wide")$data, by = config$table$hkeysDepth())
head(tmp)
}
