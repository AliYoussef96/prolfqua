% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tidyMS_MQ_workflow.R
\name{make2grpReport}
\alias{make2grpReport}
\alias{write_2GRP}
\alias{render_2GRP}
\title{Create 2 grp report in html and write data to xlsx table}
\usage{
make2grpReport(
  startdata,
  atable,
  GRP2,
  protein_annot = "Description",
  revpattern = "^REV_",
  contpattern = "^zz|^CON__",
  remove = FALSE
)

write_2GRP(GRP2, outpath, xlsxname = "AnalysisResults")

render_2GRP(GRP2, outpath, htmlname = "Result2Grp")
}
\arguments{
\item{startdata}{table in long format}

\item{atable}{AnalysisTableAnnotation annotate startdata table}

\item{GRP2}{return value of \code{\link{make2grpReport}}}

\item{protein_annot}{column with portein desciription e.g. (fasta header)}

\item{revpattern}{default "REV_"}

\item{contpattern}{default "^zz|^CON__"}

\item{remove}{do you want to remove contaminants.}

\item{outpath}{path to place output}

\item{xlsxname}{file name for xlsx}

\item{htmlname}{name for html file}
}
\description{
For use examples see run_scripts directory
}
\examples{



istar <- prolfqua_data('data_ionstar')$filtered()
data <- istar$data \%>\% dplyr::filter(protein_Id \%in\% sample(protein_Id, 100))

GRP2 <- list()
GRP2$projectID <- "3765"
GRP2$projectName <- "Order_26863"
GRP2$workunitID <- "2057368.zip"

#at least 2 peptides per protein
GRP2$nrPeptides <- 2

# Set FC to >= |2| and FRD to 0.1
GRP2$log2FCthreshold <- 1
GRP2$FDRthreshold <- 0.1
GRP2$Contrasts <- c(avsb = "dilution.b - dilution.a")
data$Description <-"AAAAA"



 atab <- AnalysisTableAnnotation$new()

atab$fileName = "raw.file"
atab$hierarchy["protein_Id"] = "protein_Id"
atab$hierarchy["peptide_Id"] = "peptide_Id"

atab$factors["dilution."] = "dilution."
atab$setWorkIntensity("peptide.intensity")
atab$isotopeLabel = "isotope"
config <- prolfqua::AnalysisConfiguration$new(atab)

protein_annot = "Description"
#debug(make2grpReport)
grp <- make2grpReport(data,atab, GRP2, NULL)

\dontrun{
write_2GRP(grp,tempdir())
render_2GRP(grp, tempdir())
}
}
\concept{workflow}
