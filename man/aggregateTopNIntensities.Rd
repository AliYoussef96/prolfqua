% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tidyMS_R6_TransitionCorrelations.R
\name{aggregateTopNIntensities}
\alias{aggregateTopNIntensities}
\title{aggregates top N intensities}
\usage{
aggregateTopNIntensities(pdata, config, func, N)
}
\arguments{
\item{pdata}{data.frame}

\item{config}{AnalysisConfiguration}

\item{func}{function to use for aggregation}

\item{N}{default 3 top intensities.}
}
\value{
list with data and new reduced configuration (config)
}
\description{
run \link{rankPrecursorsByIntensity} first
}
\examples{


library(LFQService)
library(tidyverse)
config <- LFQServiceData::spectronautDIAData250_config$clone(deep=TRUE)
res <- removeLarge_Q_Values(LFQServiceData::spectronautDIAData250_analysis, config)
res <- rankPrecursorsByIntensity(res,config)
res \%>\% dplyr::select(c(config$table$hierarchyKeys(),"srm_meanInt"  ,"srm_meanIntRank")) \%>\% distinct() \%>\% arrange(!!!syms(c(config$table$hierarchyKeys()[1],"srm_meanIntRank")))
mean_na <- function(x){mean(x, na.rm=TRUE)}

res <- aggregateTopNIntensities(res, config, func = mean_na, N=3)

stopifnot(dim(res$data) == c(10423, 10))
stopifnot(names(res) \%in\% c("data", "config"))

}
\keyword{internal}
