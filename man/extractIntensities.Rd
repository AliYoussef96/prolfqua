% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tidyMS_R6_TransitionCorrelations.R
\name{extractIntensities}
\alias{extractIntensities}
\title{Extract intensity column in wide format using lowest hierarchy as key.}
\usage{
extractIntensities(x, configuration)
}
\description{
Extract intensity column in wide format using lowest hierarchy as key.
}
\examples{
library(dplyr)
skylineconfig <-  LFQServiceData::skylineconfig
xnested <- LFQServiceData::sample_analysis \%>\%
 group_by_at(skylineconfig$table$hkeysDepth()) \%>\%
 tidyr::nest()
x <- xnested$data[[1]]
x
nn  <- x \%>\% dplyr::select( setdiff(skylineconfig$table$hierarchyKeys() ,  skylineconfig$table$hkeysDepth()) ) \%>\%
 distinct() \%>\% nrow()

xx <- extractIntensities(x,skylineconfig)
stopifnot(dim(xx)==c(nn,22))

# change hierarchyDepth ###################
conf <- skylineconfig$clone(deep=TRUE)
conf$table$hierarchyDepth = 1

xnested <- LFQServiceData::sample_analysis \%>\%
 group_by_at(conf$table$hkeysDepth()) \%>\%
 tidyr::nest()
head(xnested)

x <- xnested$data[[1]]
nn  <- x \%>\% dplyr::select( setdiff(skylineconfig$table$hierarchyKeys(),  skylineconfig$table$hkeysDepth()) ) \%>\%
 distinct() \%>\% nrow()

xx <- extractIntensities(x,conf)
stopifnot(dim(xx)==c(nn,22))

}
\keyword{internal}
