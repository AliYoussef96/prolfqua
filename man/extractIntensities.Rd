% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tidyMS_R6_TransitionCorrelations.R
\name{extractIntensities}
\alias{extractIntensities}
\title{Extract intensity column in wide format using lowest hierarchy as key.}
\usage{
extractIntensities(x, configuration)
}
\description{
Extract intensity column in wide format using lowest hierarchy as key.
}
\examples{
library(dplyr)
xnested <- sample_analysis \%>\%
 group_by_at(skylineconfig$table$hkeysLevel(FALSE)) \%>\%
 tidyr::nest()
x <- xnested$data[[1]]
nn  <- x \%>\% dplyr::select( skylineconfig$table$hkeysLevel(TRUE) ) \%>\%
 distinct() \%>\% nrow()
xx <- extractIntensities(x,skylineconfig)
stopifnot(dim(xx)==c(nn,22))

# change hierarchyLevel ###################
conf <- skylineconfig$clone(deep=TRUE)
conf$table$hierarchyLevel = 2

xnested <- sample_analysis \%>\%
 group_by_at(conf$table$hkeysLevel(FALSE)) \%>\%
 tidyr::nest()
head(xnested)

x <- xnested$data[[1]]
nn  <- x \%>\% dplyr::select( conf$table$hkeysLevel(TRUE) ) \%>\%
 distinct() \%>\% nrow()
xx <- extractIntensities(x,conf)
stopifnot(dim(xx)==c(nn,22))

}
