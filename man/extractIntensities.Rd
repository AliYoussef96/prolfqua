% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tidyMS_aggregation.R
\name{extractIntensities}
\alias{extractIntensities}
\title{Extract intensity column in wide format}
\usage{
extractIntensities(pdata, config)
}
\description{
Extract intensity column in wide format
}
\examples{
library(dplyr)

bb <- prolfqua_data('data_ionstar')$filtered()
stopifnot(nrow(bb$data) == 25780)
configur <- bb$config
data <- bb$data

xnested <- data |>
 dplyr::group_by_at( configur$table$hkeysDepth() ) |>
 tidyr::nest()
x <- xnested$data[[1]]
nn  <- x |> dplyr::select( setdiff(configur$table$hierarchyKeys() ,  configur$table$hkeysDepth()) ) |>
 dplyr::distinct() |> nrow()

xx <- extractIntensities(x,configur)
stopifnot(dim(xx)==c(nn,20))

# change hierarchyDepth ###################
conf <- configur$clone(deep=TRUE)
conf$table$hierarchyDepth = 1

xnested <- data |>
 dplyr::group_by_at(conf$table$hkeysDepth()) |>
 tidyr::nest()
head(xnested)

x <- xnested$data[[1]]
nn  <- x |> dplyr::select( setdiff(configur$table$hierarchyKeys(),  configur$table$hkeysDepth()) ) |>
 dplyr::distinct() |> nrow()

xx <- extractIntensities(x,conf)
stopifnot(dim(xx)==c(nn,20))

}
\keyword{internal}
